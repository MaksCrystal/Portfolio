(()=>{"use strict";document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".burger"),t=document.querySelector(".nav");e.addEventListener("click",(n=>{n.preventDefault(),document.body.classList.toggle("noScroll"),document.body.classList.toggle("activeMask"),e.classList.toggle("active"),t.classList.toggle("active"),document.querySelectorAll(".nav__link").forEach((n=>{n.addEventListener("click",(n=>{n.preventDefault(),e.classList.remove("active"),t.classList.remove("active"),document.body.classList.remove("noScroll"),document.body.classList.remove("activeMask")}))}))}));const n=document.querySelectorAll(".skills__list");function s(e,t){for(let n of Object.values(e))for(let e=0;e<n.length;e++)t.innerHTML+=`\n                    <li class="skills__link">\n                        <div class="skills__link-wrapper">\n                            <div class="skills__link-cat">${n[e].lan}</div>\n                            <div class="skills__link-persent">${n[e].per}</div>\n                        </div>\n                        <div class="skills__link-prog">\n                            <span class="skills__link-span"></span>\n                        </div>\n                    </li>\n                `}s({js:[{lan:"Java Script",per:"60%"}],HTML:[{lan:"HTML & CSS",per:"80%"}],Figma:[{lan:"Figma",per:"70%"}],Wordpress:[{lan:"Wordpress",per:"30%"}]},n[0]),s({com:[{lan:"Communocation",per:"90%"}],work:[{lan:"TeamWork",per:"100%"}],Figma:[{lan:"Creativity",per:"70%"}],Wordpress:[{lan:"Responsible",per:"85%"}]},n[1]);const l=document.querySelectorAll(".skills__link-prog span");document.querySelectorAll(".skills__link-persent").forEach(((e,t)=>{l[t].style.width=e.innerHTML})),new Swiper(".swiper",{loop:!0,slidesPerView:1,slidesPerGroup:1,centeredSlides:!0,spaceBetween:20,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});const o=document.querySelector("header"),r=document.querySelector("header").clientHeight,c=document.querySelectorAll("nav a");document.onscroll=function(){let t=window.scrollY;c.forEach((n=>{t>r?(o.classList.add("fixed"),e.classList.add("black"),n.classList.add("black")):(o.classList.remove("fixed"),e.classList.remove("black"),n.classList.remove("black"))}))},document.querySelector(".descriptionMe-arrowDown").addEventListener("click",(e=>{e.preventDefault(),document.getElementById("about").scrollIntoView({behavior:"smooth"})}));const i=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&document.querySelectorAll(".nav__link").forEach((t=>{t.getAttribute("href").replace("#","")===e.target.id?t.classList.add("active"):t.classList.remove("active")}))}))}),{threshold:.7});document.querySelectorAll("section").forEach((e=>i.observe(e))),document.querySelector(".nav").addEventListener("click",(e=>{if(e.target.classList.contains("nav__link")){const t=e.target.getAttribute("href").replace("#","");e.preventDefault(),window.scrollTo({top:document.getElementById(t).offsetTop,behavior:"smooth"})}}));const a=document.querySelectorAll("._anim-items");if(a.length>0){function p(){for(let e=0;e<a.length;e++){const t=a[e],n=t.offsetHeight,s=f(t).top,l=4;let o=window.innerHeight-n/l;n>window.innerHeight&&(o=window.innerHeight-window.innerHeight/l),pageYOffset>s-o&&pageYOffset<s+n?t.classList.add("_active"):t.classList.contains("_anim-no-hide")||t.classList.remove("_active")}}function f(e){const t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,s=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+s,left:t.left+n}}window.addEventListener("scroll",p),setTimeout((()=>{p()}),300)}const d=document.querySelector(".footer__form");function u(e){e.parentElement.classList.add("_error"),e.classList.add("_error")}function m(e){e.parentElement.classList.remove("_error"),e.classList.remove("_error")}function v(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}d.addEventListener("submit",(async function(e){e.preventDefault();let t=new FormData(d);if(0===function(e){let t=0,n=document.querySelectorAll("._req");for(let e=0;e<n.length;e++){const s=n[e];m(s),s.classList.contains("_email")?v(s)&&(u(s),t++):""===s.value&&(u(s),t++)}return t}()){let e=await fetch("sendmail.php",{method:"POST",body:t});e.ok?(await e.json(),function(){const e=document.querySelector(".modalOk"),t=document.querySelector(".modalOk-mask"),n=e.querySelector(".modalOk-btn");function s(){e.classList.remove("_active"),t.classList.remove("_active"),document.body.classList.remove("noScroll")}e.classList.add("_active"),t.classList.add("_active"),document.body.classList.add("noScroll"),t.addEventListener("click",(e=>{e.preventDefault(),s()})),n.addEventListener("click",(e=>{e.preventDefault(),s()}))}(),d.reset()):alert("Mistake")}}))}))})();